function Timer(t,e){function n(){for(var t in o.task)o.task[t].beat()}var o=this;o.task={},o.add(t,e),n(),setInterval(n,1e3)}function debounce(t,e,n){function o(){var s=new Date-i;s<e&&s>=0?a=setTimeout(o,e-s):(a=null,n||(l=t.apply(c,r),c=r=null))}var a,r,c,i,l;return function(){c=this,r=arguments,i=new Date;var s=n&&!a;return a||(a=setTimeout(o,e)),s&&(l=t.apply(c,r),c=r=null),l}}function getParamsFromUrl(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null}function addParamsToUrl(t,e,n){var o=new RegExp("^((.*&)?"+e+"=).*?(&.*)?$"),a=t.split("#"),r=a[0].split("?"),c=a[1]?"#"+a[1]:"",i=r[0],l="?";return r[1]?l+=o.test(r[1])?r[1].replace(o,"$1"+n+"$3"):r[1]+"&"+e+"="+n:l="?"+e+"="+n,i+l+c}function shareActivity(t,e){function n(t){var n=$(window).scrollTop(),o=t.data("type"),a=addParamsToUrl(e.url,"scrollTop",n),r=encodeURIComponent(a),c=encodeURIComponent(e.title),i=encodeURIComponent(e.image);encodeURIComponent(e.desc);"fb"===o?FB.ui({display:"popup",method:"share",href:a},function(t){t&&!t.error_code&&e.onSuccess("fb")}):"vk"===o?(e.onSuccess("vk"),window.open("https://vk.com/share.php?url="+r+"&title="+c+"&screenshot="+i)):"tw"===o?(e.onSuccess("tw"),window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(e.title+"\n"+e.desc+"\n")+"&url="+r)):"gg"===o?(e.onSuccess("gg"),window.open("https://plus.google.com/share?url="+r+"&t="+c)):"rt"===o?(e.onSuccess("rt"),window.open("https://www.reddit.com/submit?url="+r+"&display=widget&title="+c)):"tele"===o&&(e.onSuccess("tele"),window.open("https://telegram.me/share/url?url="+r))}window.fbAsyncInit=function(){FB.init({appId:"900125666754558",status:!0,cookie:!0,oauth:!0,xfbml:!0})},function(){var t=document.createElement("script");t.type="text/javascript",t.src="https://connect.facebook.net/en_US/all.js",t.async=!0,document.getElementsByTagName("head")[0].appendChild(t)}(),e=$.extend({url:null,title:null,image:null,desc:null,onSuccess:function(){setTimeout(function(){popMsg("share success!")},500)}},e),$(t).on("click",function(){$.cookie("isLogin")?n($(this)):window.location.href=HTTPS_LOGIN_DOMAIN+"/"+JS_LANG+"m-users-a-sign.htm?ref="+window.location.href})}Timer.prototype.add=function(t,e){function n(){var t=Timer.format(r,e);e.onChange.call(a,t),0===r?(delete o.task[c],e.onEnd.call(a,t)):r--}var o=this,a=$(t),r=0,c="";return t&&0!==a.length?(e=$.extend({format:"${d}丨${h}丨${m}丨${s}",interval:0,charWrap:!1,onStart:function(){},onEnd:function(){},onChange:function(t){$(this).html(t)}},e),a.length>1?(a.each(function(){o.add(this,e)}),o):("function"==typeof e.interval?(r=e.interval.call(a),r=r>0?Math.floor(r):0):"number"==typeof e.interval&&e.interval>=0&&(r=Math.floor(e.interval)),c=Math.floor(1e6*Math.random()),e.onStart.call(a,Timer.format(r,e)),n(),void(o.task[c]={beat:n}))):o},Timer.format=function(t,e){var n=t,o=Math.floor(n/60),a=Math.floor(o/60),r=Math.floor(a/24),c=r,i=a%24,l=o%60,s=Math.floor(n%60),u=e.format.replace("${d}",c<10?"0"+c:c).replace("${h}",i<10?"0"+i:i).replace("${m}",l<10?"0"+l:l).replace("${s}",s<10?"0"+s:s);return e.charWrap?u.replace(/(\d)/g,"<i>$1</i>"):u};